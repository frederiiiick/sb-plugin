const initSBPlugin=t=>{const e=document.getElementById(t),n=e.getAttribute("data-mls-number");if(e&&n){const t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href","https://cdn.jsdelivr.net/npm/font-proxima-nova@1.0.1/style.min.css"),e.appendChild(t);const s=e.getAttribute("data-size"),a=e.getAttribute("data-title"),i=e.getAttribute("data-extra-css");plugin_button=document.createElement("button"),plugin_button.innerHTML=a||"Showing Bee",plugin_button=sbButton(plugin_button,s||"normal",i),plugin_button.addEventListener("click",(()=>onPluginClick(e,n))),e.appendChild(plugin_button)}else console.log("missing mls number!")},sbButton=(t,e,n)=>(t.style.border="none",t.style.borderRadius="10px",t.style.color="white",t.style.cursor="pointer",t.style.fontWeight="700",t.style.fontFamily="'Proxima Nova', sans-serif",t.style.fontSize="20px",t.style.padding="0 40px",t.style.background="transparent linear-gradient(103deg, #FAC91F 0%, #F8A728 100%) 0% 0% no-repeat padding-box","normal"===e&&(t.style.height="50px"),"large"===e&&(t.style.height="60px"),"small"===e&&(t.style.fontWeight="500",t.style.fontSize="14px",t.style.borderRadius="5px",t.style.height="40px",t.style.padding="0 30px"),t.style.cssText+=n,t.addEventListener("mouseenter",(e=>{t.style.background="#FAC91F"})),t.addEventListener("mouseleave",(e=>{t.style.background="transparent linear-gradient(103deg, #FAC91F 0%, #F8A728 100%) 0% 0% no-repeat padding-box",n&&n.includes("background")&&(t.style.cssText+=n)})),t),onPluginClick=(t,e)=>{const n=t.getAttribute("data-agent-info"),s=t.getAttribute("data-window")?t.getAttribute("data-window"):"popup";let a="https://www.showingbee.com";if(t.getAttribute("data-env")&&("dev"===t.getAttribute("data-window")?a="http://localhost:3000":"prod"===t.getAttribute("data-window")&&(a="https://www.showingbee.com")),n){let t=[];JSON.parse(n).email&&t.push(`agent_email=${JSON.parse(n).email}`),JSON.parse(n).first_name&&t.push(`agent_first_name=${JSON.parse(n).first_name}`),JSON.parse(n).last_name&&t.push(`agent_last_name=${JSON.parse(n).last_name}`),JSON.parse(n).phone_number&&t.push(`agent_phone_number=${JSON.parse(n).phone_number.replace("+1","")}`),JSON.parse(n).company&&t.push(`agent_company=${JSON.parse(n).company}`),"tab"===s?window.open(`${a}/listing/1/${e}/request-calendar/?${t.join("&")}`,"_blank"):"popup"===s&&window.open(`${a}/listing/1/${e}/request-calendar/?${t.join("&")}`,"popup_form","height=833px,width=1024px")}else console.log("Agent information must be provided!")};